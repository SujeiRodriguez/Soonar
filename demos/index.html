<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
</head>
<body>
	
	<!-- <iframe src="https://www.google.com/maps/d/u/0/embed?mid=12BHUGjU1UaE8LF75F2ucGNgPfMdCy9Kq&ehbc=2E312F" width="640" height="480">
		
	</iframe> -->
	<input type="file" id="archivo"/>
	
	<script type="text/javascript">
	const input=document.getElementById("archivo")
	input .addEventListener("change", async (event) => {
	  const archivo = event.target.files[0];

	  const arrayBuffer = await archivo.arrayBuffer()
	  // arweave.createTransaction({data: arrayBuffer},key)
	  console.log('Es un arraybuffer?',arrayBuffer instanceof ArrayBuffer);


	  	var myHeaders = new Headers();
		myHeaders.append("Prediction-Key", "89568e35e94d4afca78f4d233110c877");
		myHeaders.append("Content-Type", "application/json");

		var file = arrayBuffer;

		var requestOptions = {
		  method: 'POST',
		  headers: myHeaders,
		  body: file,
		  redirect: 'follow'
		};

		fetch("https://southcentralus.api.cognitive.microsoft.com/customvision/v3.0/Prediction/5958dd45-9962-46b9-96da-1975e6d72fa1/classify/iterations/Iteration5/image", requestOptions)
		  .then(response => response.json())
		  .then(result => console.log(result))
		  .catch(error => console.log('error', error));

	  });
	</script>

</body>
</html>